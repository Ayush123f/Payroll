{% load static %}
{% include 'header.html' %}

<script>
  function checkpassword() {
    const pwd = document.signup.pwd.value;
    const cpwd = document.signup.cpwd.value;
    if (pwd !== cpwd) {
      alert('Password and Confirm Password do not match');
      document.signup.cpwd.focus();
      return false;
    }
    return true;
  }
</script>

<div class="card shadow m-5">
  <div class="card-body">
    <h5>Create an Account</h5>

    <form method="post" name="signup" onsubmit="return checkpassword()" class="container-fluid">
      {% csrf_token %}

      <div class="row">
      
        <div class="col-sm-6 mb-3">
          <label for="id_firstname" class="form-label">First Name</label>
          <input type="text" id="id_firstname" name="firstname" class="form-control" placeholder="Enter First Name" pattern="[A-Za-z]+" required>
        </div>

        <div class="col-sm-6 mb-3">
          <label for="id_lastname" class="form-label">Last Name</label>
          <input type="text" id="id_lastname" name="lastname" class="form-control" placeholder="Enter Last Name" pattern="[A-Za-z]+" required>
        </div>

       
        <div class="col-12 mb-3">
          <label for="id_empcode" class="form-label">Employee Code</label>
          <input type="number" id="id_empcode" name="empcode" class="form-control" placeholder="Enter Employee Code" required>
        </div>

       
        <div class="col-sm-6 mb-3">
          <label for="id_email" class="form-label">Email ID</label>
          <input type="email" id="id_email" name="email" class="form-control" placeholder="Enter Your Email" required>
        </div>

     
        <div class="col-sm-6 mb-3">
          <label for="id_pwd" class="form-label">Password</label>
          <input type="password" id="id_pwd" name="pwd" class="form-control" placeholder="Enter Your Password" minlength="8" required>
        </div>

        
        <div class="col-sm-6 mb-3">
          <label for="id_cpwd" class="form-label">Confirm Password</label>
          <input type="password" id="id_cpwd" name="cpwd" class="form-control" placeholder="Re-enter Your Password" minlength="8" required>
        </div>
      </div>

      <button type="submit" class="btn btn-primary">Submit</button>
    </form>
  </div>
</div>

{% if error == "no" %}
<script>
  alert('Signup Successful');
  window.location = '{% url 'emp_login' %}';
</script>
{%endif%}
{% if error == "yes" %}
<script>
  alert('Something went wrong. Please try again.');
</script>
{% endif %}
